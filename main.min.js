function tt(a) {
    var e = "";
    return "string" == typeof a && (e = a, a in window.translations && window.translations[a] && (e = window.translations[a])), e
}
$(document).ready(function() {
    function a() {
        e.length && (e.css("width", $(window).width()), e.css("max-width", $(window).width()))
    }
    var e = $("#main-app-container"),
        t = $(".mobile-navbar-wrapper #menu_principal_movil"),
        o = $("#menu_principal_movil_div"),
        n = $("#loading-screen"),
        s = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream,
        i = !!navigator.userAgent.match(/Version\/[\d\.]+.*Safari/);
    $(document);
    e.bind("scroll", function() {
        0 !== e.scrollLeft() && e.scrollLeft(0)
    }), a(), $(window).resize(function() {
        a()
    }), $(".enlace_menu_principal").click(function(a) {
        a.preventDefault(), a.stopImmediatePropagation(), o.hasClass("open") ? o.removeClass("open") : o.addClass("open")
    }), $("#page_lang").on("change", function() {
        var a = $("#page_lang option:selected").val();
        $.ajax({
            data: {
                lang_change: a,
                "<?php echo 'Hello1' ?>": "<?php echo 'Hello2' ?>"
            },
            url: '<?php echo $this->createUrl("site/ChangeLanguage"); ?>',
            type: "post",
            success: function(a) {
                location.reload()
            }
        })
    }), $("#page_lang_movil").on("change", function() {
        var a = $("#page_lang_movil option:selected").val();
        $.ajax({
            data: {
                lang_change: a,
                "<?php echo 'Hello3'?>": "<?php echo 'Hello4' ?>"
            },
            url: '<?php echo $this->createUrl("site/ChangeLanguage"); ?>',
            type: "post",
            success: function(a) {
                location.reload()
            }
        })
    }), $("html, body, window, #main-app-container").scroll(function(a) {
        ! function(a) {
            s || (a > 2 * t.height() ? t.hasClass("sticky") || t.addClass("sticky") : t.hasClass("sticky") && t.removeClass("sticky"), a > 300 ? t.hasClass("visible") || t.addClass("visible") : t.hasClass("visible") && t.removeClass("visible"))
        }($(this).scrollTop())
    }), $("html, body, window, #main-app-container").on("click, mousedown, scroll", function() {
        o.removeClass("open")
    }), $(".mobile-navbar-wrapper").on("click, mousedown", function(a) {
        a.stopPropagation()
    }), s && i && $(function() {
        /iPad|iPhone|iPod/.test(navigator.userAgent) && ($(document.head).append("<style>*{cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0)}</style>"), $(window).on("gesturestart touchmove", function(a) {
            1 !== a.originalEvent.scale && (a.originalEvent.preventDefault(), document.body.style.transform = "scale(1)")
        }))
    }), n.addClass("hidden")
}), $(document).ready(function() {
    $(".see-more-wrapper .btn.more").click(function(a) {
        a.preventDefault(), a.stopImmediatePropagation();
        var e = $(this).children(".fas"),
            t = $(this).parent(".see-more-wrapper"),
            o = t.siblings(".battles-wrapper"),
            n = $(this).offset().top;
        t.hasClass("expanded") ? (t.removeClass("expanded"), o.removeClass("expanded"), e.removeClass("fa-caret-up"), e.addClass("fa-caret-down"), $("html, body").animate({
            scrollTop: n
        }, 600)) : (t.addClass("expanded"), o.addClass("expanded"), e.removeClass("fa-caret-down"), e.addClass("fa-caret-up"))
    })
}), $(document).ready(function() {
    function a() {
        t.height("auto"), t.each(function(a, t) {
            e = $(this).height() > e ? $(this).height() : e
        }), t.height(e)
    }
    if ($(".body_badges").length) {
        var e = 0,
            t = $(".bocadillo_logros");
        a(), $(window).resize(function() {
            a()
        })
    }
}), $(document).ready(function() {
    $(".body_history").length && $("#select_battle").on("change", function() {
        var a = $("#select_battle option:selected").val();
        window.location = baseUrl + "/site/history?id_battle=" + a
    })
}), $(document).ready(function() {
    if ($(".body_profile").length) {
        var a = $("#div_avatar"),
            e = $("#div_password");
        $(".change_avatar").click(function(t) {
            t.preventDefault(), t.stopImmediatePropagation();
            "none" == a.css("display") ? (e.slideUp("fast"), a.slideDown("slow")) : (e.slideUp("slow"), a.slideUp("slow"), $("#message_avatar").text(""))
        }), $("#cancel_avatar").bind("click", function(e) {
            e.preventDefault(), e.stopImmediatePropagation(), a.slideUp("fast"), $("#avatar").val(""), $("#message_avatar").text("")
        }), $("#change_password").bind("click", function(t) {
            t.preventDefault(), t.stopImmediatePropagation();
            "none" == e.css("display") ? (a.slideUp("fast"), e.slideDown("slow")) : (a.slideUp("slow"), e.slideUp("slow"), $("#message_password").text(""))
        }), $("#cancel_password").bind("click", function(a) {
            a.preventDefault(), a.stopImmediatePropagation(), e.slideUp("fast"), $("#password").val(""), $("#message_password").text("")
        }), $("#update_avatar").bind("click", function(a) {
            if (a.preventDefault(), a.stopImmediatePropagation(), "" == $("#avatar").val()) return $("#message_avatar").html(tt("No se ha seleccionado la imagen")), !1;
            $("#form_profile").attr("action", $("#form_profile").attr("action") + "?stay=1"), $("#form_profile").submit()
        }), $("#update_password").bind("click", function(a) {
            return a.preventDefault(), a.stopImmediatePropagation(), "" == $("#password").val() ? ($("#message_password").html(tt("La contraseÃ±a no puede estar vacÃ­a")), !1) : $("#password").val() != $("#password2").val() ? ($("#message_password").html(tt("Las contraseÃ±as no coinciden")), !1) : ($("#form_profile").attr("action", $("#form_profile").attr("action") + "?stay=1&pass_changed=1"), void $("#form_profile").submit())
        })
    }
});